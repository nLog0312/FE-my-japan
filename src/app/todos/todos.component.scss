.app-bg { --background: var(--ion-color-light); }
.sub-toolbar { --background: transparent; .subtext { padding: 4px 16px 10px 16px; color: var(--ion-color-medium); } }
.add-btn { --border-radius: 16px; --padding-start: 10px; --padding-end: 10px; }

/* Stats */
.stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 12px 16px 4px 16px;
  .stat { margin: 0; padding: 12px; border-radius: 14px; }
  .label { font-size: 12px; color: var(--ion-color-medium); }
  .value { font-weight: 800; font-size: 20px; margin-top: 6px; }
}
.seg-wrapper { padding: 6px 16px 6px 16px; }

ion-list { padding: 0 10px; }

.todo-card {
  margin: 10px 6px 14px 6px; border-radius: 16px; box-shadow: 0 8px 20px rgba(0,0,0,.06);

  .row1 { padding: 14px 14px 6px 14px;
    .left { display: flex; align-items: center; gap: 10px; }
    /* Vòng tròn có ripple & trạng thái */
    .circle {
      position: relative;
      width: 22px; height: 22px; border-radius: 999px;
      border: 2px solid var(--ion-color-medium);
      background: transparent;
      outline: none;
      cursor: pointer;
      transition: all .2s ease;
      display: inline-flex; align-items: center; justify-content: center;
    }
    .circle.tap { overflow: hidden; } /* để hiện ion-ripple-effect */
    .circle.active { border-color: var(--ion-color-primary); box-shadow: 0 0 0 4px rgba(var(--ion-color-primary-rgb), .12); }
    .circle.done { border-color: var(--ion-color-success); background: var(--ion-color-success); box-shadow: 0 0 0 4px rgba(var(--ion-color-success-rgb), .18); }
    .title { font-weight: 700; }
    .title.strike { text-decoration: line-through; color: var(--ion-color-medium); }
  }

  .desc { padding: 0 14px 4px 40px; color: var(--ion-color-medium); font-size: 14px; }

  .meta { display: flex; align-items: center; justify-content: space-between; padding: 0 12px 12px 12px;
    .chips { display: flex; gap: 8px; flex-wrap: wrap; padding-left: 28px; }
    .chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; font-size: 12px; background: var(--ion-color-light); color: var(--ion-color-medium); }
    .pri.high   { background: rgba(255, 99, 71, .12); color: #e11d48; }
    .pri.medium { background: rgba(234, 179, 8, .14); color: #b45309; }
    .pri.low    { background: rgba(34, 197, 94, .12); color: #16a34a; }
    .tag { background: rgba(59,130,246,.12); color: #2563eb; }
    .actions { display: flex; gap: 8px; }
    .actions ion-button { --border-radius: 12px; height: 30px; }
  }

  &.done { opacity: .95; }
}

.spacer { height: 24px; }

@media (max-width: 380px) {
  .stats { grid-template-columns: 1fr; }
  .todo-card { margin: 8px 6px; }
}
